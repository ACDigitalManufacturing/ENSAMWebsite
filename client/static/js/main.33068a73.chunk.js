/*! For license information please see main.33068a73.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{125:function(e,t,n){e.exports={errorsWrapper:"showErrors_errorsWrapper__23EdP"}},129:function(e,t,n){e.exports={createPostWrapper:"createPost_createPostWrapper__3_a2P"}},24:function(e,t,n){e.exports={contentCard:"contentCard_contentCard__1KGzY",cardOptions:"contentCard_cardOptions__YpkuQ",cardData:"contentCard_cardData__1Ofr0",cardDetails:"contentCard_cardDetails__2DbIM",category:"contentCard_category__3eICc",date:"contentCard_date__2odRO",detailsButton:"contentCard_detailsButton__3BUHQ"}},258:function(e,t,n){},259:function(e,t,n){"use strict";n.r(t);var r,a=n(1),s=n.n(a),c=n(35),o=n.n(c),i=n(20),u=n(122),l=n(11),d=n(21),p=n(45),j=n(60),m=n.n(j),b=n(4);!function(e){e[e.adminLoggedIn=0]="adminLoggedIn",e[e.adminUpdateFields=1]="adminUpdateFields",e[e.adminLoggedOut=2]="adminLoggedOut"}(r||(r={}));var h,f,O,v,x,g={isLoggedIn:!1,auth_token:"",admin:null},_={key:"root",storage:m.a,whitelist:["userState"]},w=Object(d.b)({admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.adminLoggedIn:case r.adminUpdateFields:case r.adminLoggedOut:return Object(b.a)(Object(b.a)({},e),t.payload);default:return e}}}),M=Object(p.a)(_,w),y=n(124),L=[n.n(y).a],C=window.__REDUX_DEVTOOLS_EXTENSION__?Object(d.c)(d.a.apply(void 0,L),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()):d.a.apply(void 0,L),k={key:"root",storage:m.a},N=Object(p.a)(k,M),S=Object(d.d)(N,C),A=Object(p.b)(S),D=n(3);!function(e){e.loginPage="/auth/login",e.dashboard="/",e.officialReleases="/official-releases",e.noticeToStudents="/notice-to-students",e.allPosts="/all-posts",e.agenda="/agenda",e.createPost="/create-post/:category"}(h||(h={})),function(e){e.loginPage="login"}(f||(f={})),function(e){e.main="/*",e.authentication="/auth/*"}(O||(O={})),(x=v||(v={})).officialReleases="/create-post/communique",x.noticeToStudents="/create-post/avisetudiant";var W=h,P=n(0),E=function(e){var t=e.component,n=e.redirect,r=void 0===n?W.dashboard:n;return Object(l.c)((function(e){return e.admin})).isLoggedIn?Object(P.jsx)(D.a,{to:{pathname:r}}):Object(P.jsx)(t,{})},I=function(e){var t=e.component,n=e.redirect,r=void 0===n?W.loginPage:n;return Object(l.c)((function(e){return e.admin})).isLoggedIn?Object(P.jsx)(t,{}):Object(P.jsx)(D.a,{to:{pathname:r}})},R=n(8),T=n(59),H=n(7),U=n(2),V=n.n(U),B=Object(P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 603.94 621.57",height:"100px",width:"100px",children:Object(P.jsx)("path",{d:"M565.69,233.42l31,31.9-14.46,13H565.44M335.33,187.38c-.2-26.94-.36-49.59-.36-49.59l-33.5-9m57.44,149.12,66.61.06M302,245l-34-58.77M335.8,252c.12,17.26.16,21.74.19,25.89l22.92,0m159.66.39h46.87M302,245l11.49,19.86L335.8,252m57-32.92L335.8,252m229.89-18.58-22.92-23.56-38.1,22M335.8,252c-.13-17.75-.31-42.62-.47-64.62M425.52,278l49.21,0,9.57,32.57,7.92-32.28h26.35m-59.23-59-24.55-24.51-42,24.24M236.2,43.92,194,33.79l-5,16,9.37,16.08m261,153.48,24.54,24.51,20.79-12M268.32,95.8l-.35,24,33.5,9m-78.74-21L198.34,65.87m24.39,41.89,12.24,21-24,25,33-9,24,41.48m.35-90.47.65-44L236.2,43.92m130.63-.21L302,5.79,236.2,43.92m145.94,63L426,94.79c0-.06-6-20-6-20l-14.41-8.43M335,95.79l19,19L382.14,107M198.34,65.87l37.86-22M335,95.79l-33-33-33.65,33m-70-29.93L183,74.79l-5,21,44.76,12m144.1-64.05,38.73,22.65m-182.83,41.4,26.24,7,19.35-19M268,252.09V186.27M245,277.91l-67.9.06m34.64-57.78-43.13-24.48L144.1,220.22M86.53,277.9l24.32-.09,9.65,33.28L129.21,278l47.93,0M99,232.43l20.6,12.3,24.54-24.51M99,232.43,61.17,209.86,38,234.31m230,17.78,22.52,12.79L302,245M366.83,43.71,335,51.79v44M302,245l33.36-57.66M86.53,277.9l-48.47.18M382.14,107l23.42-40.6m0,0L414,51.79l-4-19L366.83,43.71M38,234.31,8.08,265.82l11.36,12.33,18.62-.07m297.27-90.7L360,144.79l33,8-24-23L382.14,107m-80.67,21.83,33.5-9v-24M211.78,220.19,268,252.09m33.5-123.3-33.5,9v48.48M245,277.91l22.93,0v-25.8m-164.86-131-8.94,31.63,38.1,22m11.83,45.51,9-33.51-20.79-12m9.82-75.85-8.42-14.57-18.46-6-12.1,42.82m29.5,326.34L94.17,468.86l9.57,32.32m40.36-281-8.95,33.51,42,24.24m34.64-57.78-24.57-42.63L210.64,153l-31.92,9.28-13.18-22.81m46.24,80.74L245,277.91m-79.5-138.46L142.09,98.86m23.68,382.06L141.69,523m-37.95-21.81,12.34,41.64,16.36-3.67L141.69,523m24.08-42.07,12.08-21.11,33.65,8.28L187.21,444l23.93-41.53M178.42,343.6l-42.77,25.11,8.95,33.51m-12,45.2,20.95-11.69-9-33.51m89.54-91.33L178.42,343.6m66.61.06,11.45-19.88-22.34-12.89m-23,91.6c11.43-19.84,24.61-42.71,33.89-58.83m-10.89-32.77-57-32.92m57,32.92,22.34-13.12L245,277.91M132.27,174.71l26-7,7.31-28.3m-33.27,35.26L87.2,186.79,99,232.43m66.58-93,11.37-44-20.32-4.81-14.5,8.27m-104,179.22,0,17.76,15.68,14.83L86.53,277.9m55.56-179-39,22.22M86.53,277.9l19.2-19.21L99,232.43m4.15-111.35L37.83,158.29l.14,76m0,0,.09,43.77m47.31,65.19L52.91,311.4,38.59,326.59l-.09,16.7m65.24,157.89,38,21.81m0,0,15.4,8.85,20.68-6.17-12-44.75M38.25,388.15l-.42,75.14,65.91,37.89M38.5,343.29l-.25,44.86m61,1.56L87.2,434.79l45.41,12.63M99.27,389.71l7-26L85.37,343.27m80.4,137.65-7-26.23-26.12-7.27M178.42,343.6l66.61.06M38.5,343.29H21.67l-14.46,13,31,31.89m229.89-18.57c-.12-17.24-.16-21.77-.19-25.9l-22.92,0m-33.89,58.83,57-32.91M144.6,402.22l-24.54-24.51-20.79,12m168.87-20.13c.13,17.74.31,42.61.47,64.61m-124-32,24.55,24.51,42-24.24M38.25,388.15l22.92,23.56,38.1-22M302,376.53l-11.48-19.85-22.35,12.9M336,435.3l-34-58.77m-33.36,57.66c.2,26.94.36,49.59.36,49.6l33.5,9m65.27,84.86L410,587.79l5-16L405.6,555.7m-24.39-41.89-12.24-21,24-25-33,9L336,435.3m-.35,90.47.35-24-33.5-9m-264-149.5,46.87,0m250.25,182.5-.65,44,32.77,7.86m13.47-63.84L405.6,555.7M178.42,343.6l-49.21,0L119.64,311l-7.92,32.28H85.37m217.1,149.52-33.5,9v24M517.41,343.67l-24.32.09-9.65-33.28-8.71,33.08-47.93,0m-34.64,57.78L336,369.48m22.94-25.82-22.94,0v25.8M221.8,514.61l-23.42,40.6M336,369.48l-22.52-12.79L302,376.53m90.19,24.85,43.13,24.48,24.55-24.51M302.47,492.79l33.5-9V435.3m169-46.16-20.6-12.3-24.54,24.51M505,389.14l37.79,22.57L566,387.26M268.61,434.19,244,476.79l-33-8,24,23L221.8,514.61M517.41,343.67l48.48-.18M198.38,555.21,190,569.79l4,19,43.14-10.93M566,387.26l29.89-31.5L584.5,343.42l-18.61.07M302,376.53l-33.36,57.66M336,369.48V435.3M237.11,577.86,269,569.79v-44m89.94-182.13,67.89-.06M269,525.79l-19-19-28.17,7.82M405.6,555.7l-37.86,21.95M198.38,555.21l38.73,22.65M269,525.79l33,33,33.65-33M221.8,514.61,178,526.79c0,.05,6,20,6,20l14.41,8.42m182.83-41.4-26.24-7-19.35,19m-98.51,52.09L302,615.79l65.77-38.14M405.6,555.7,421,546.79l5-21-44.76-12m136.2-170.14-19.2,19.22L505,389.14m-4.15,111.35,65.28-37.2-.14-76m-94.3,59.6,45.07-12.07L505,389.14m-66.58,93-11.37,44L447.35,531l14.5-8.27m9.82-75.85-26,7-7.31,28.31m62.43,18.36-39,22.22m104-179.22,0-17.76L550.17,310.9l-32.76,32.77M566,387.26l-.08-43.77m-207-65.58c-5.77,10-10,17.41-11.46,19.88l22.35,12.9m90,90.66-9,33.51,20.79,12M426.8,343.6l-57-32.91m92.05,212L438.4,482.13M369.8,310.69,425.52,278m36.33,244.74,8.42,14.57,18.46,6,12.1-42.83M392.16,401.38,416.73,444,393.3,468.59l31.92-9.28,13.18,22.82m32.93-308-20.95,11.69,9,33.51M500.2,120.4,487.86,78.76,471.5,82.42l-9.25,16.16m-24.08,42.07-12.08,21.11-33.65-8.28,24.29,24.08s-10.81,18.77-23.93,41.52m45.37-78.43,24.08-42.07m9.08,75.57,38.44-21.44L500.2,120.4m.63,380.09,8.94-31.63-38.1-22M425.52,278l42.77-25.11-9-33.51m-67.18,182-33.25-57.72m100.93,57.69,9-33.51-42-24.24m-57-32.91L347.46,323.8c1.43,2.48,5.69,9.88,11.45,19.86M392.8,219.08c-11.43,19.85-24.61,42.71-33.89,58.83m79.26-137.26,7,26.24,26.12,7.26m-9.08-75.57L500.2,120.4m4.47,111.46-7,26,20.86,20.48m47.12-44.88.42-75.13L500.2,120.4m18.37,157.9L551,310.17,565.35,295l.09-16.69m-60.77-46.43,12.07-45.07-45.41-12.64m94.36,59.27-.25,44.87M462.25,98.58l-15.4-8.85L426.17,95.9l12,44.75"})}),z=n(46),F=n.n(z),Z=function(e){var t=e.children;return Object(P.jsxs)("div",{className:F.a.authLayoutWrapper,children:[Object(P.jsx)("div",{className:F.a.jlij,children:Array(3).fill(0).map((function(e,t){return Object(P.jsx)("span",{className:F.a["j".concat(t)],children:B},t)}))}),Object(P.jsx)("div",{className:F.a.childrenWrapper,children:t})]})},q=Object(P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(P.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(P.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"})]}),K=Object(P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(P.jsx)("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),Object(P.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5l2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13zm-3.4-3.4l1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53z"})]}),X=Object(P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(P.jsxs)("g",{fill:"none",children:[Object(P.jsx)("path",{d:"M0 0h24v24H0V0z"}),Object(P.jsx)("path",{d:"M0 0h24v24H0V0z",opacity:".87"})]}),Object(P.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z"})]}),G=Object(P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(P.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(P.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4z"})]}),J=function(){var e=Object(R.a)(V.a.mark((function e(t){var n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.password,e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:if("admin"===n||"admin"===r){e.next=5;break}return e.abrupt("return",{errors:[{message:"invalid credential"}]});case 5:return e.abrupt("return",{response:{auth_token:"",admin:{username:n,email:"admin@ensam-casa.ma"}}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=n(125),Q=n.n(Y),$=function(e){var t=e.errors;return t.length?Object(P.jsx)("ul",{className:Q.a.errorsWrapper,children:t.map((function(e,t){return Object(P.jsx)("li",{children:e.message},t)}))}):null},ee=n(29),te=n.n(ee),ne=function(){var e=Object(a.useState)({username:"",password:"",passwordInputType:"password"}),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),o=Object(H.a)(c,2),i=o[0],u=o[1],d=Object(l.b)(),p=function(e){return function(t){return s(Object(b.a)(Object(b.a)({},n),{},Object(T.a)({},e,t.target.value)))}},j=function(){var e=Object(R.a)(V.a.mark((function e(t){var a,s,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,J({username:n.username,password:n.password});case 3:if(a=e.sent,s=a.response,!(c=a.errors)){e.next=8;break}return e.abrupt("return",u(c));case 8:if(s){e.next=10;break}return e.abrupt("return",u([{message:"server do not respond"}]));case 10:d((o=s.admin,i=s.auth_token,{type:r.adminLoggedIn,payload:{isLoggedIn:!0,auth_token:i,admin:o}}));case 11:case"end":return e.stop()}var o,i}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)(Z,{children:Object(P.jsxs)("div",{className:te.a.loginFormWrapper,children:[Object(P.jsxs)("header",{children:[Object(P.jsx)("div",{className:te.a.logoWrapper,children:Object(P.jsx)("img",{src:"/images/ensam-logo.png",alt:"ensam-casa"})}),Object(P.jsx)("h1",{children:"Authentication Admin"})]}),Object(P.jsxs)("form",{onSubmit:j,children:[Object(P.jsx)($,{errors:i}),Object(P.jsxs)("div",{className:te.a.inputWrapper,children:[Object(P.jsx)("label",{htmlFor:"username",children:"Nom d'utilisateur"}),Object(P.jsxs)("div",{className:te.a.inputContainer,children:[Object(P.jsx)("span",{children:G}),Object(P.jsx)("input",{type:"text",id:"username",onChange:p("username"),value:n.username})]})]}),Object(P.jsxs)("div",{className:te.a.inputWrapper,children:[Object(P.jsx)("label",{htmlFor:"password",children:"Mot de passe"}),Object(P.jsxs)("div",{className:te.a.inputContainer,children:[Object(P.jsx)("span",{children:X}),Object(P.jsx)("input",{type:n.passwordInputType,id:"password",value:n.password,onChange:p("password")}),Object(P.jsx)("span",{className:te.a.passwordInputEye,onClick:function(){return p("passwordInputType")({target:{value:"password"===n.passwordInputType?"text":"password"}})},children:"password"===n.passwordInputType?q:K})]})]}),Object(P.jsx)("button",{type:"submit",children:"se connecter"})]})]})})},re=function(){return Object(P.jsxs)(D.d,{children:[Object(P.jsx)(D.b,{path:f.loginPage,element:Object(P.jsx)(ne,{})}),Object(P.jsx)(D.b,{path:"*",element:Object(P.jsx)(D.a,{to:W.loginPage})})]})},ae=Object(P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(P.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(P.jsx)("path",{d:"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z"})]}),se=Object(P.jsx)("svg",{id:"Logout",xmlns:"http://www.w3.org/2000/svg",width:"20.78",height:"20",viewBox:"0 0 20.78 20",children:Object(P.jsx)("path",{id:"Logout-2","data-name":"Logout",d:"M4.517,20A4.482,4.482,0,0,1,0,15.56V4.45A4.493,4.493,0,0,1,4.528,0H9.492A4.48,4.48,0,0,1,14,4.44V9.23H7.9a.77.77,0,1,0,0,1.54H14v4.78A4.493,4.493,0,0,1,9.472,20ZM16.54,13.451a.773.773,0,0,1,0-1.09l1.6-1.59H14V9.23h4.14l-1.6-1.59a.773.773,0,0,1,0-1.09.764.764,0,0,1,1.09-.01l2.92,2.91a.766.766,0,0,1,.229.55.741.741,0,0,1-.229.54l-2.92,2.911a.762.762,0,0,1-1.09,0Z",transform:"translate(0)"})}),ce=Object(P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:Object(P.jsx)("g",{id:"Arrow_-_Right_Circle","data-name":"Arrow - Right Circle",transform:"translate(0 0)",children:Object(P.jsx)("path",{id:"Arrow_-_Right_Circle-2","data-name":"Arrow - Right Circle",d:"M10,20l-.28,0A10.011,10.011,0,1,1,10,20ZM8.56,5.78a.745.745,0,0,0-.53,1.28L10.98,10,8.03,12.94A.746.746,0,0,0,8.02,14a.752.752,0,0,0,.534.225A.727.727,0,0,0,9.08,14l3.49-3.47a.75.75,0,0,0,0-1.06L9.08,6A.7.7,0,0,0,8.56,5.78Z",transform:"translate(0 0)"})})}),oe=Object(P.jsx)("svg",{id:"Iconly_Bold_Document","data-name":"Iconly/Bold/Document",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",viewBox:"0 0 18 20",children:Object(P.jsx)("g",{id:"Document",transform:"translate(0)",children:Object(P.jsx)("path",{id:"Document-2","data-name":"Document",d:"M13.191,20H4.81C1.753,20,0,18.236,0,15.16V4.83A4.91,4.91,0,0,1,1.265,1.271,4.864,4.864,0,0,1,4.81,0h8.382C16.247,0,18,1.761,18,4.83V15.16a4.891,4.891,0,0,1-1.246,3.583A4.819,4.819,0,0,1,13.191,20ZM5,13.736a.78.78,0,0,0-.668.374.786.786,0,0,0,.653,1.206.7.7,0,0,0,.1-.006h7.841a.79.79,0,0,0,0-1.57H5.08A.8.8,0,0,0,5,13.736ZM5.08,9.179a.78.78,0,0,0,0,1.561h7.841a.78.78,0,0,0,0-1.561Zm0-4.529v.01h0a.779.779,0,0,0,0,1.559h2.99a.785.785,0,0,0,0-1.57Z"})})}),ie=n(30),ue=n.n(ie);var le=[{icon:ae,link:W.dashboard,text:"G\xe9n\xe9rale",category:""},{icon:oe,link:W.officialReleases,text:"Communiqu\xe9s Officiels",category:"communique"},{icon:oe,link:W.noticeToStudents,text:"Avis Aux Etudiants",category:""}],de=function(){var e=Object(l.b)(),t=Object(D.f)(),n=Object(a.useState)(!1),s=Object(H.a)(n,2),c=s[0],o=s[1];return Object(P.jsxs)("div",{className:"".concat(ue.a.sideMenuWrapper," ").concat(c?"":ue.a.closed),children:[Object(P.jsx)("div",{className:ue.a.navArrow,style:c?{transform:"rotate(180deg)"}:{transform:"rotate(0deg)"},onClick:function(){return o(!c)},children:ce}),Object(P.jsx)("section",{className:ue.a.logoWrapper,children:Object(P.jsx)("img",{src:"/images/ensam2.png",alt:"ensam casa"})}),Object(P.jsx)("ul",{className:ue.a.dashboardNavigation,children:le.map((function(e,n){var r=e.link,a=e.text,s=e.icon;return Object(P.jsx)("li",{className:r==t.pathname?ue.a.active:"",children:Object(P.jsxs)(i.b,{to:r,children:[s,Object(P.jsx)("span",{children:a})]})},n)}))}),Object(P.jsxs)("button",{className:ue.a.decoButton,onClick:function(){e({type:r.adminLoggedOut,payload:{isLoggedIn:!1,auth_token:"",admin:null}})},children:[se,Object(P.jsx)("span",{children:"Se D\xe9connecter"})]})]})},pe=n(73),je=n.n(pe);var me,be,he,fe,Oe=function(e){var t=e.children;return Object(P.jsxs)("div",{className:je.a.dashboardLayoutWrapper,children:[Object(P.jsx)(de,{}),Object(P.jsx)("section",{className:je.a.mainSection,children:t})]})},ve=function(){return Object(P.jsx)(Oe,{children:Object(P.jsx)(P.Fragment,{children:"Index: This page is under construction"})})},xe=n(24),ge=n.n(xe),_e=Object(P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24.583 24.583",children:Object(P.jsx)("g",{id:"Options",transform:"translate(5.542 -1.458)",children:Object(P.jsx)("g",{id:"More_Square","data-name":"More Square",transform:"translate(-5.541 1.458)",children:Object(P.jsx)("path",{id:"More_Square-2","data-name":"More Square",d:"M17.626,24.583H6.969C2.8,24.583,0,21.664,0,17.319V7.277C0,2.924,2.8,0,6.969,0H17.626c4.161,0,6.957,2.924,6.957,7.277V17.319C24.583,21.664,21.787,24.583,17.626,24.583ZM17.8,10.818a1.474,1.474,0,1,0,1.462,1.474A1.476,1.476,0,0,0,17.8,10.818Zm-5.507,0a1.474,1.474,0,1,0,1.475,1.474A1.476,1.476,0,0,0,12.292,10.818Zm-5.507,0A1.474,1.474,0,1,0,8.26,12.292,1.476,1.476,0,0,0,6.785,10.818Z",transform:"translate(0 0)"})})})});function we(){return(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND||"")+"/api/v1"}!function(e){e.png="image/png",e.jpg="image/jpg",e.gif="image/gif",e.jpeg="image/jpeg",e.svg="image/svg+xml",e.webp="image/webp"}(me||(me={})),function(e){e[e.NoticeToStudent=0]="NoticeToStudent",e[e.OfficialReleases=1]="OfficialReleases"}(be||(be={})),function(e){e.NoticeToStudent="avisetudiant",e.OfficialReleases="communique"}(he||(he={})),function(e){e[e.live=0]="live",e[e.draft=1]="draft",e[e.not_saved=2]="not_saved"}(fe||(fe={}));var Me=n(9),ye=n(38),Le=n.n(ye),Ce=function(e){var t;return e&&null!==(t=e.response)&&void 0!==t&&t.data&&e.response.data.errors?e.response.data.errors:[{message:"Error connecting to server"}]};function ke(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(R.a)(V.a.mark((function e(t){var n,r,a,s,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.params,a=t.auth_token,e.prev=1,s=we(),e.next=5,Le.a.get("".concat(s).concat(n),{params:r||{},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 5:return c=e.sent,e.abrupt("return",{response:c.data});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{errors:Ce(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function Se(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(R.a)(V.a.mark((function e(t){var n,r,a,s,c,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.params,a=t.body,s=t.auth_token,e.prev=1,c=we(),e.next=5,Le.a.post("".concat(c).concat(n),a,{params:r||{},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});case 5:return o=e.sent,e.abrupt("return",{response:o.data});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{errors:Ce(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function De(e){return We.apply(this,arguments)}function We(){return(We=Object(R.a)(V.a.mark((function e(t){var n,r,a,s,c,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.params,a=t.body,s=t.auth_token,e.prev=1,c=we(),e.next=5,Le.a.put("".concat(c).concat(n),a,{params:r||{},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});case 5:return o=e.sent,e.abrupt("return",{response:o.data});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{errors:Ce(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function Pe(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(R.a)(V.a.mark((function e(t){var n,r,a,s,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.params,a=t.auth_token,e.prev=1,s=we(),e.next=5,Le.a.delete("".concat(s).concat(n),{params:r||{},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 5:return c=e.sent,e.abrupt("return",{response:c.data});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{errors:Ce(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var Ie=function(e,t){return ke({url:"/posts/all",params:t||{},auth_token:e})},Re=function(e,t){return ke({url:"/posts/".concat(e),params:{},auth_token:t})},Te=function(e,t){return Se({url:"/posts",params:{},auth_token:t,body:{category:e}})},He=function(e,t){return De({url:"/posts/".concat(e.id),params:{},auth_token:t,body:e})},Ue=function(e,t){return Pe({url:"/posts/".concat(e),params:{},auth_token:t})},Ve=function(e,t,n){return De({url:"/documents/assign-document/".concat(e,"/").concat(t),params:{},body:{},auth_token:n})},Be=function(e,t,n){return Pe({url:"/documents/unassign-document/".concat(e,"/").concat(t),params:{},auth_token:n})},ze=function(e,t,n){return De({url:"/documents/set-cover/".concat(e,"/").concat(t),params:{},body:{},auth_token:n})},Fe=function(e,t){return Pe({url:"/documents/unset-cover/".concat(e),params:{},auth_token:t})},Ze=function(e){var t,n=e.post,r=e.onDelete,s=Object(a.useState)(!1),c=Object(H.a)(s,2),o=c[0],i=c[1],u=Object(a.useRef)(null),d=Object(l.c)((function(e){return e.admin})).auth_token,p=Object(D.g)(),j=function(e){var t;null!==(t=u.current)&&void 0!==t&&t.contains(e.target)||i(!1)},m=function(e){return 0==e?he.NoticeToStudent:1==e?he.OfficialReleases:void 0},b=function(){var e=Object(R.a)(V.a.mark((function e(){var t,a,s,c,o,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.cover){e.next=10;break}return e.next=3,Fe(n.id,d);case 3:if(t=e.sent,a=t.response,!(s=t.errors)){e.next=8;break}return e.abrupt("return",s.forEach((function(e){var t=e.message;Me.b.error(t)})));case 8:if(null!==a&&void 0!==a&&a.post){e.next=10;break}return e.abrupt("return",Me.b.error("Something Wrong"));case 10:return e.next=12,Ue(n.id,d);case 12:if(c=e.sent,o=c.response,!(i=c.errors)){e.next=17;break}return e.abrupt("return",i.forEach((function(e){var t=e.message;Me.b.error(t)})));case 17:if(null!==o&&void 0!==o&&o.deletedPost){e.next=19;break}return e.abrupt("return",Me.b.error("Something Wrong"));case 19:Me.b.success("Post has been deleted successfully"),r();case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return document.addEventListener("mousedown",j),function(){document.removeEventListener("mousedown",j)}})),Object(P.jsxs)("article",{className:ge.a.contentCard,children:[Object(P.jsxs)("div",{className:ge.a.cardData,children:[Object(P.jsx)("div",{className:ge.a.cover,children:Object(P.jsx)("img",{src:n.cover?"".concat(we(),"/documents/").concat(n.cover):"/images/No_Image-Availabe.jpg",alt:n.title})}),Object(P.jsxs)("div",{className:ge.a.cardDetails,children:[Object(P.jsx)("h3",{children:n.title||"Untitled"}),Object(P.jsxs)("p",{children:["Cat\xe9gorie:"," ",Object(P.jsx)("span",{className:ge.a.category,children:m(n.category)})]}),Object(P.jsxs)("p",{className:ge.a.date,children:["Cr\xe9e le"," ",new Date(n.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]}),Object(P.jsxs)("p",{className:ge.a.date,children:["Statut: ",(t=n.status,t==fe.live?"Publi\xe9":t==fe.draft?"Bruillion":t==fe.not_saved?"Non enregistr\xe9":void 0)]})]})]}),Object(P.jsx)("button",{className:ge.a.detailsButton,onClick:function(){i(!o)},children:_e}),Object(P.jsx)("div",{className:ge.a.cardOptions,style:o?{display:"block"}:{display:"none"},ref:u,children:Object(P.jsxs)("ul",{children:[n.status===fe.live?Object(P.jsx)("li",{children:Object(P.jsx)("a",{href:"https://ensam-casa.herokuapp.com/post/".concat(n.id),children:"Aper\xe7u"})}):null,Object(P.jsx)("li",{onClick:function(){p("/create-post/".concat(m(n.category),"/?postId=").concat(n.id))},children:"Modifer"}),Object(P.jsx)("li",{onClick:b,children:"Supprimer"})]})})]})},qe=n(39),Ke=n.n(qe),Xe=function(e){var t=e.title,n=e.posts,r=e.category,a=e.onDelete;return Object(P.jsxs)("div",{className:Ke.a.postsOverviewWrapper,children:[Object(P.jsx)("h1",{children:t}),Object(P.jsxs)("div",{className:Ke.a.header,children:[Object(P.jsxs)("div",{className:Ke.a.total,children:["Total: ",n.length]}),Object(P.jsxs)(i.b,{to:r,className:Ke.a.createNew,children:[" ",Object(P.jsx)("div",{children:"+"}),"Cr\xe9er un nouveau"," "]})]}),Object(P.jsx)("div",{className:Ke.a.cardsWrapper,children:n.map((function(e,t){return Object(P.jsx)(Ze,{post:e,onDelete:a},t)}))})]})},Ge=function(e,t){var n=e.response,r=e.errors,a=t.responseMessage,s=t.noResponseMessage;return r?r.forEach((function(e){var t=e.message;Me.b.error(t)})):n?void(""!==a&&Me.b.success(a)):Me.b.error(s)},Je=function(){var e=Object(R.a)(V.a.mark((function e(t,n){var r,a,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(t,n);case 2:r=e.sent,a=r.response,s=r.errors,Ge({response:a,errors:s},{responseMessage:"",noResponseMessage:"Something went wrong"});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(R.a)(V.a.mark((function e(t,n,r){var a,s,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(t,{limit:50,category:r});case 2:a=e.sent,s=a.response,c=a.errors,Ge({response:s,errors:c},{responseMessage:"",noResponseMessage:"Something went wrong"}),null!==s&&void 0!==s&&s.posts&&n(s.posts);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(l.c)((function(e){return e.admin})).auth_token,t=Object(a.useState)([]),n=Object(H.a)(t,2),r=n[0],s=n[1];return Object(a.useEffect)((function(){Ye(e,s,be.NoticeToStudent)}),[]),Object(P.jsx)(Oe,{children:Object(P.jsx)(Xe,{onDelete:function(){Ye(e,s,be.NoticeToStudent)},title:"Avis aux \xe9tudiants",posts:r,category:v.noticeToStudents})})},$e=function(){return Object(P.jsx)(Oe,{children:Object(P.jsx)(P.Fragment,{children:"Agenda: This page is under construction"})})},et=function(){var e=Object(l.c)((function(e){return e.admin})).auth_token,t=Object(a.useState)([]),n=Object(H.a)(t,2),r=n[0],s=n[1];return Object(a.useEffect)((function(){Ye(e,s,be.OfficialReleases)}),[]),Object(P.jsx)(Oe,{children:Object(P.jsx)(Xe,{onDelete:function(){Ye(e,s,be.OfficialReleases)},title:"Communiqu\xe9s Officiels",posts:r,category:v.officialReleases})})},tt=n(126),nt=n(127),rt=n.n(nt),at=n(37),st=n(128),ct=n.n(st),ot=(n(256),n(62)),it=n.n(ot),ut=function(e){var t=e.setPost,n=e.post,r=ct()(n.content),s=r.contentBlocks,c=r.entityMap,o=at.ContentState.createFromBlockArray(s,c),i=at.EditorState.createWithContent(o),u=Object(a.useState)(i),l=Object(H.a)(u,2),d=l[0],p=l[1];return Object(a.useEffect)((function(){p(i)}),[n.id]),Object(P.jsx)(tt.Editor,{toolbarClassName:it.a.toolbar,wrapperClassName:it.a.editorWrapper,editorClassName:it.a.editor,onEditorStateChange:function(e){p(e),t(Object(b.a)(Object(b.a)({},n),{},{content:rt()(Object(at.convertToRaw)(e.getCurrentContent()))}))},editorState:d})},lt=n(129),dt=n.n(lt),pt=n(36),jt=n.n(pt),mt=function(e,t){return Se({url:"/documents",params:{},auth_token:t,body:e})},bt=n(26),ht=n.n(bt),ft=Object(P.jsx)("svg",{id:"Image_2","data-name":"Image 2",xmlns:"http://www.w3.org/2000/svg",width:"73.65",height:"71.921",viewBox:"0 0 73.65 71.921",children:Object(P.jsx)("path",{id:"Image_2-2","data-name":"Image 2",d:"M20.761,71.921a25.03,25.03,0,0,1-3.984-.34c-.04-.01-.08-.013-.116-.019A19.374,19.374,0,0,1,4.627,64.83c-.02,0-.027-.013-.04-.032a.192.192,0,0,0-.027-.036A21.939,21.939,0,0,1,0,50.712V21.173C0,8.509,8.342,0,20.761,0h32.1C65.295,0,73.65,8.509,73.65,21.173V50.712a8.094,8.094,0,0,1-.07.919c-.023.207-.046.418-.06.634-.007.123-.01.243-.013.366-.007.181-.01.369-.026.55a1.893,1.893,0,0,1-.033.2,1.384,1.384,0,0,0-.036.2,23.61,23.61,0,0,1-.57,3.253c-.05.214-.109.427-.166.631l-.056.194a21.455,21.455,0,0,1-1.057,2.9c-.076.168-.159.33-.242.5-.05.094-.093.181-.136.269a19.232,19.232,0,0,1-1.5,2.508c-.113.155-.229.3-.345.44-.07.084-.136.168-.2.252A17.813,17.813,0,0,1,67.25,66.62c-.136.126-.282.243-.424.356-.1.074-.2.152-.288.233A19.279,19.279,0,0,1,64.3,68.866c-.172.1-.358.194-.537.282-.123.058-.242.117-.361.181a19.437,19.437,0,0,1-2.529,1.2,6.931,6.931,0,0,1-.686.2c-.156.042-.318.081-.474.129l-.278.084a19.5,19.5,0,0,1-2.419.618,14.151,14.151,0,0,1-1.548.149c-.232.016-.464.029-.693.049-.249.016-.5.049-.736.074a9.829,9.829,0,0,1-1.18.094ZM5.14,21.173V50.712a18.767,18.767,0,0,0,1.419,7.331l1.319-1.566c2.071-2.469,5.933-7.059,5.962-7.088,3.152-3.521,6.43-5.3,9.741-5.3a10.185,10.185,0,0,1,3.868.793,23.943,23.943,0,0,1,3.719,2.016l.331.207c1.962,1.282,3.175,1.932,4.368,1.932.089,0,.179-.006.272-.013a3.889,3.889,0,0,0,1.511-.515c1.187-.715,3.815-3.884,7.818-9.418.209-.291.348-.482.394-.54a12.4,12.4,0,0,1,9.645-5.039,11.183,11.183,0,0,1,5.71,1.586c.716.418,5.651,3.783,7.295,5.146V21.173c0-9.816-6.145-16.157-15.653-16.157h-32.1C11.272,5.017,5.14,11.357,5.14,21.173Zm9.81,3.974a8.451,8.451,0,0,1-.219-1.887,9,9,0,0,1,9.128-8.878,9.222,9.222,0,0,1,6.562,2.738,8.8,8.8,0,0,1,2.724,6.3,9.209,9.209,0,0,1-18.2,1.722Z",transform:"translate(0 0)",fill:"#adbdd1"})}),Ot=Object(P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13.099",height:"13.61",viewBox:"0 0 13.099 13.61",children:Object(P.jsx)("g",{id:"Iconly_Bold_Upload","data-name":"Iconly/Bold/Upload",transform:"translate(2 2)",children:Object(P.jsx)("g",{id:"Upload",transform:"translate(-2 -2)",children:Object(P.jsx)("path",{id:"Upload-2","data-name":"Upload",d:"M2.914,13.61A2.94,2.94,0,0,1,0,10.784l0-.14V7.393A2.937,2.937,0,0,1,2.771,4.444l.137,0H6.045v4a.5.5,0,0,0,1,.07l0-.07v-4h3.131A2.94,2.94,0,0,1,13.1,7.266l0,.14v3.246a2.939,2.939,0,0,1-2.771,2.956l-.137,0ZM6.045,4.44V1.729L5,2.777a.506.506,0,0,1-.714,0,.5.5,0,0,1-.055-.657l.049-.057L6.189.151A.5.5,0,0,1,6.549,0a.494.494,0,0,1,.295.1L6.9.151,8.809,2.063a.505.505,0,0,1-.658.763L8.1,2.777,7.054,1.729V4.44Z"})})})}),vt=Object(P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:Object(P.jsx)("path",{id:"Close_Square","data-name":"Close Square",d:"M14.34,20H5.67C2.279,20,0,17.625,0,14.091V5.92C0,2.379,2.279,0,5.67,0h8.67C17.725,0,20,2.379,20,5.92v8.171C20,17.625,17.725,20,14.34,20ZM10,11.231h0L11.78,13a.815.815,0,0,0,.61.261A.873.873,0,0,0,13.01,13a.869.869,0,0,0,0-1.228l-1.78-1.78L13.01,8.21a.875.875,0,0,0-.616-1.494.89.89,0,0,0-.624.256L10,8.75,8.22,6.971A.89.89,0,0,0,7.6,6.716.876.876,0,0,0,6.98,8.21L8.76,9.991,6.98,11.761a.88.88,0,0,0,.619,1.5A.873.873,0,0,0,8.22,13L10,11.232Z",transform:"translate(0 0)"})}),xt=function(e){var t=e.onSuccess,n=e.post,r=e.setPost,s=Object(l.c)((function(e){return e.admin})).auth_token,c=Object.values(me).join(),o=Object(a.useState)(null),i=Object(H.a)(o,2),u=i[0],d=i[1],p=function(){var e=Object(R.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.files.length){e.next=2;break}return e.abrupt("return");case 2:n=t.target.files[0],d(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(R.a)(V.a.mark((function e(){var r,a,c,o,i,l,d;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return");case 2:return(r=new FormData).append("document",u),e.next=6,mt(r,s);case 6:if(a=e.sent,c=a.response,!(o=a.errors)){e.next=11;break}return e.abrupt("return",o.forEach((function(e){var t=e.message;Me.b.error(t)})));case 11:if(null!==c&&void 0!==c&&c.document){e.next=13;break}return e.abrupt("return",Me.b.error("Something Wrong with the file"));case 13:return e.next=15,ze(null===c||void 0===c?void 0:c.document.id,n.id,s);case 15:if(i=e.sent,l=i.response,!(d=i.errors)){e.next=20;break}return e.abrupt("return",d.forEach((function(e){var t=e.message;Me.b.error(t)})));case 20:if(null!==l&&void 0!==l&&l.success){e.next=22;break}return e.abrupt("return",Me.b.error("Server not responding correctly"));case 22:console.log(l),Me.b.success("Image Uploaded Successfully"),t(l.post);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(R.a)(V.a.mark((function e(t){var a,c,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Fe(t,s);case 4:if(a=e.sent,c=a.response,!(o=a.errors)){e.next=9;break}return e.abrupt("return",o.forEach((function(e){var t=e.message;Me.b.error(t)})));case 9:if(null!==c&&void 0!==c&&c.post){e.next=11;break}return e.abrupt("return",Me.b.error("Something Wrong with the file"));case 11:console.log(c.post),d(null),r(Object(b.a)(Object(b.a)({},n),{},{cover:null}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){return u?URL.createObjectURL(u):n.cover?"".concat(we(),"/documents/").concat(n.cover):""};return Object(P.jsx)("div",{className:ht.a.imageUploadContainer,children:u&&!n.cover?Object(P.jsxs)("div",{className:ht.a.imageUploadWrapper,children:[Object(P.jsx)("img",{src:h(),alt:""}),Object(P.jsx)("button",{onClick:j,className:ht.a.setCover,children:"Choisir cette image"}),Object(P.jsx)("button",{className:ht.a.deleteCover,onClick:function(){return d(null)},children:vt})]}):n.cover?Object(P.jsxs)("div",{className:ht.a.imageUploadWrapper,children:[Object(P.jsx)("img",{src:h(),alt:""}),Object(P.jsx)("button",{className:ht.a.deleteCover,onClick:function(){return m(n.id)},children:vt})]}):Object(P.jsxs)("div",{className:ht.a.formGroup,children:[Object(P.jsxs)("label",{htmlFor:"fileInput",className:ht.a.imageUpload,children:[ft,Object(P.jsxs)("span",{children:[Ot," Choisir une image"]})]}),Object(P.jsx)("input",{type:"file",accept:c,id:"fileInput",style:{display:"none"},onChange:p})]})})},gt=function(e){var t=e.category,n=e.post,r=e.setPost,a=e.onPublish,s=e.onDraft,c=e.onCancel;return Object(P.jsxs)("div",{className:jt.a.createPostHeader,children:[Object(P.jsx)(xt,{onSuccess:function(e){r(Object(b.a)(Object(b.a)({},n),{},{cover:e.cover}))},post:n,setPost:r}),Object(P.jsxs)("div",{className:jt.a.createPostData,children:[Object(P.jsx)("input",{type:"text",placeholder:"Title",required:!0,value:n.title,onChange:function(e){return t=e.target.value,void r(Object(b.a)(Object(b.a)({},n),{},{title:t}));var t}}),Object(P.jsx)("input",{type:"text",defaultValue:t,placeholder:"Category",required:!0}),Object(P.jsxs)("div",{className:jt.a.createPostActions,children:[Object(P.jsx)("button",{onClick:a,className:jt.a.publish,children:"Publier"}),Object(P.jsx)("button",{onClick:s,className:jt.a.draft,children:"Bruillion"}),Object(P.jsx)("button",{onClick:c,className:jt.a.cancel,children:"Annuler"})]})]})]})},_t=n(27),wt=n.n(_t),Mt=function(e){var t=e.post,n=e.setPost,r=Object(l.c)((function(e){return e.admin})).auth_token,s=Object(a.useState)(null),c=Object(H.a)(s,2),o=c[0],i=c[1],u=function(){var e=Object(R.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.files.length){e.next=2;break}return e.abrupt("return");case 2:n=t.target.files[0],i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(R.a)(V.a.mark((function e(){var a,s,c,u,l,d,p;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new FormData,o){e.next=3;break}return e.abrupt("return");case 3:return a.append("document",o),e.next=6,mt(a,r);case 6:if(s=e.sent,c=s.response,!(u=s.errors)){e.next=11;break}return e.abrupt("return",u.forEach((function(e){var t=e.message;Me.b.error(t)})));case 11:if(null!==c&&void 0!==c&&c.document){e.next=13;break}return e.abrupt("return",Me.b.error("Something Wrong with the file"));case 13:return e.next=15,Ve(null===c||void 0===c?void 0:c.document.id,t.id,r);case 15:if(l=e.sent,d=l.response,!(p=l.errors)){e.next=20;break}return e.abrupt("return",p.forEach((function(e){var t=e.message;Me.b.error(t)})));case 20:if(null!==d&&void 0!==d&&d.post){e.next=22;break}return e.abrupt("return",Me.b.error("Something Wrong with the file"));case 22:Me.b.success("File Uploaded Successfully"),console.log(d.post),n(Object(b.a)(Object(b.a)({},t),{},{documents:d.post.documents})),i(null);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(R.a)(V.a.mark((function e(a){var s,c,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(a,t.id,r);case 2:if(s=e.sent,c=s.response,!(o=s.errors)){e.next=7;break}return e.abrupt("return",o.forEach((function(e){var t=e.message;Me.b.error(t)})));case 7:if(null!==c&&void 0!==c&&c.post){e.next=9;break}return e.abrupt("return",Me.b.error("Something Wrong with the file"));case 9:n(c.post);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:wt.a.uploadDocumentWrapper,children:[Object(P.jsxs)("div",{className:wt.a.header,children:[Object(P.jsx)("h2",{children:"Documents"}),Object(P.jsxs)("div",{className:wt.a.formGroup,children:[Object(P.jsxs)("label",{htmlFor:"fileInputFile",className:wt.a.fileUpload,children:[Ot," Choisir un fichier PDF"]}),Object(P.jsx)("input",{id:"fileInputFile",accept:"application/pdf",type:"file",onChange:u,style:{display:"none"}})]})]}),Object(P.jsxs)("div",{className:wt.a.uploadedDocuments,children:[o?Object(P.jsxs)("div",{className:wt.a.card,children:[o.name,Object(P.jsx)("button",{onClick:d,className:wt.a.addDocument,children:"Add Document"})]}):null,null===t||void 0===t?void 0:t.documents.map((function(e){return Object(P.jsxs)("div",{className:wt.a.card,children:[Object(P.jsx)("div",{children:e}),Object(P.jsx)("button",{onClick:function(){return p(e)},children:vt})]},e)}))]})]})};var yt=function(){var e=Object(D.h)().category,t=e===he.OfficialReleases?be.OfficialReleases:be.NoticeToStudent,n=function(){var e=window.location.search;e.startsWith("?")&&(e=e.slice(1));var t=e.split("&"),n={};return t.filter((function(e){return e.includes("=")})).forEach((function(e){var t=e.split("="),r=Object(H.a)(t,2),a=r[0],s=r[1];n[decodeURIComponent(a)]=decodeURIComponent(s)})),n}().postId,r=Object(D.f)().pathname,s=Object(D.g)(),c=Object(l.c)((function(e){return e.admin})).auth_token,o=Object(a.useState)(function(e){return{id:"",title:"",content:"",cover:"",documents:[],category:e,status:fe.not_saved,createdAt:(new Date).toLocaleDateString(),updatedAt:(new Date).toLocaleDateString()}}(t)),i=Object(H.a)(o,2),u=i[0],d=i[1],p=function(){s(e==he.OfficialReleases?W.officialReleases:W.noticeToStudents)},j=function(){var e=Object(R.a)(V.a.mark((function e(){var n,a,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(t,c);case 2:n=e.sent,a=n.response,o=n.errors,Ge({response:a,errors:o},{responseMessage:"",noResponseMessage:"Something went wrong"}),null!==a&&void 0!==a&&a.post&&(s("".concat(r,"?postId=").concat(a.post.id)),d(Object(b.a)(Object(b.a)({},u),{},{id:a.post.id})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(R.a)(V.a.mark((function e(){var t,r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(n,c);case 2:t=e.sent,r=t.response,a=t.errors,Ge({response:r,errors:a},{responseMessage:"",noResponseMessage:"Something went wrong"}),null!==r&&void 0!==r&&r.post&&d(r.post);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(R.a)(V.a.mark((function e(){var t,n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(Object(b.a)(Object(b.a)({},u),{},{status:fe.live}),c);case 2:t=e.sent,n=t.response,r=t.errors,Ge({response:n,errors:r},{responseMessage:"Post has been published successfully",noResponseMessage:"Something went wrong"}),null!==n&&void 0!==n&&n.post&&p();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(R.a)(V.a.mark((function e(){var t,n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(Object(b.a)(Object(b.a)({},u),{},{status:fe.draft}),c);case 2:t=e.sent,n=t.response,r=t.errors,Ge({response:n,errors:r},{responseMessage:"Post saved as a draft",noResponseMessage:"Something went wrong"}),null!==n&&void 0!==n&&n.post&&p();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(R.a)(V.a.mark((function e(){var t,n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.status!==fe.not_saved){e.next=8;break}return u.cover&&Je(u.id,c),e.next=4,Ue(u.id,c);case 4:t=e.sent,n=t.response,r=t.errors,Ge({response:n,errors:r},{responseMessage:"Post has been deleted Successfully",noResponseMessage:"Something went wrong"});case 8:p();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){n?m():j()}),[]),Object(P.jsxs)("div",{className:dt.a.createPostWrapper,children:[Object(P.jsx)(gt,{category:e,post:u,setPost:d,onPublish:h,onDraft:f,onCancel:O}),Object(P.jsx)(ut,{setPost:d,post:u}),Object(P.jsx)(Mt,{post:u,setPost:d})]})},Lt=function(){return Object(P.jsx)(Oe,{children:Object(P.jsx)(yt,{})})},Ct=function(){var e=Object(l.c)((function(e){return e.admin})).auth_token,t=Object(a.useState)([]),n=Object(H.a)(t,2),r=n[0],s=n[1];return Object(a.useEffect)((function(){Ye(e,s,"")}),[]),Object(P.jsx)(Oe,{children:Object(P.jsx)(Xe,{onDelete:function(){Ye(e,s,"")},title:"Toutes les publications",posts:r,category:""})})},kt=function(){return Object(P.jsxs)(D.d,{children:[Object(P.jsx)(D.b,{path:W.dashboard,element:Object(P.jsx)(ve,{})}),Object(P.jsx)(D.b,{path:W.officialReleases,element:Object(P.jsx)(et,{})}),Object(P.jsx)(D.b,{path:W.noticeToStudents,element:Object(P.jsx)(Qe,{})}),Object(P.jsx)(D.b,{path:W.allPosts,element:Object(P.jsx)(Ct,{})}),Object(P.jsx)(D.b,{path:W.agenda,element:Object(P.jsx)($e,{})}),Object(P.jsx)(D.b,{path:W.createPost,element:Object(P.jsx)(Lt,{})}),Object(P.jsx)(D.b,{path:"*",element:Object(P.jsx)(D.a,{to:W.dashboard})})]})},Nt=function(){return Object(P.jsxs)(D.d,{children:[Object(P.jsx)(D.b,{path:O.authentication,element:Object(P.jsx)(E,{component:re})}),Object(P.jsx)(D.b,{path:O.main,element:Object(P.jsx)(I,{component:kt})})]})},St=(n(257),function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Nt,{}),Object(P.jsx)(Me.a,{position:"bottom-right",draggable:!0})]})});n(258);o.a.render(Object(P.jsx)(s.a.StrictMode,{children:Object(P.jsx)(l.a,{store:S,children:Object(P.jsx)(u.a,{persistor:A,children:Object(P.jsx)(i.a,{children:Object(P.jsx)(St,{})})})})}),document.getElementById("root"))},26:function(e,t,n){e.exports={imageUploadContainer:"uploadCover_imageUploadContainer__103Gd",imageUpload:"uploadCover_imageUpload__idy4M",setCover:"uploadCover_setCover__UVES8",deleteCover:"uploadCover_deleteCover__2-9ZV"}},27:function(e,t,n){e.exports={uploadDocumentWrapper:"uploadDocument_uploadDocumentWrapper__2COlC",header:"uploadDocument_header__3wK9-",fileUpload:"uploadDocument_fileUpload__2Xyoq",uploadedDocuments:"uploadDocument_uploadedDocuments__2LibO",card:"uploadDocument_card__3uI4_",addDocument:"uploadDocument_addDocument__101UD"}},29:function(e,t,n){e.exports={loginFormWrapper:"login_loginFormWrapper__3sL-0",logoWrapper:"login_logoWrapper__3tOen",inputWrapper:"login_inputWrapper__2lrrz",inputContainer:"login_inputContainer__2KQro",passwordInputEye:"login_passwordInputEye__23fL9"}},30:function(e,t,n){e.exports={sideMenuWrapper:"sideMenu_sideMenuWrapper__3l3oC",logoWrapper:"sideMenu_logoWrapper__1qJbY",navArrow:"sideMenu_navArrow__gDRLR",dashboardNavigation:"sideMenu_dashboardNavigation__3a4OW",opening:"sideMenu_opening__3bJv6",active:"sideMenu_active__1Ymoj",decoButton:"sideMenu_decoButton__2spys",closed:"sideMenu_closed__2j1CO",closing:"sideMenu_closing__2-PAp"}},36:function(e,t,n){e.exports={createPostHeader:"createPostHeader_createPostHeader__3mck3",createPostData:"createPostHeader_createPostData__1bXOv",createPostActions:"createPostHeader_createPostActions__3_Pj2",draft:"createPostHeader_draft__2uuPf",publish:"createPostHeader_publish__1Op6A"}},39:function(e,t,n){e.exports={postsOverviewWrapper:"postsOverview_postsOverviewWrapper__2JXa4",header:"postsOverview_header__xW5-A",cardsWrapper:"postsOverview_cardsWrapper__2awz7",createNew:"postsOverview_createNew__AsS5x",total:"postsOverview_total__2reH7"}},46:function(e,t,n){e.exports={authLayoutWrapper:"authLayout_authLayoutWrapper__k-JBF",jlij:"authLayout_jlij__3KRU4",j0:"authLayout_j0__3fIA6",j1:"authLayout_j1__31K0L",j2:"authLayout_j2__U6PF0",childrenWrapper:"authLayout_childrenWrapper__7EbGy"}},62:function(e,t,n){e.exports={editorWrapper:"textEditor_editorWrapper__2OwtN",editor:"textEditor_editor__20Foi"}},73:function(e,t,n){e.exports={dashboardLayoutWrapper:"dashboard_dashboardLayoutWrapper__38CUw"}}},[[259,1,2]]]);
//# sourceMappingURL=main.33068a73.chunk.js.map